{% extends 'base.html' %}

{% block content %}
<div class="row">
    {% for post in posts.items %}
    <div class="card mb-4">
        <a href="#!"><img class="card-img-top" src="https://dummyimage.com/700x350/dee2e6/6c757d.jpg" alt="..." /></a>
        <div class="card-body">
            <div class="small text-muted">{{ post.get_created() }}</div>
            <h2 class="card-title h4">{{ post.title }}</h2>
            <p style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">{{ post.content }}</p>
                <a class="btn btn-primary" href="{{ url_for('postview', post_id=post.id) }}">Read more →</a>
        </div>
    </div>
    <hr>
    {% endfor %}
</div>
<!-- Pagination-->
<hr class="my-0" />
<ul class="pagination justify-content-center my-4">
    {% if posts.has_prev %}
    <li class="page-item">
        <a class="page-link" href="?page={{ posts.prev_num }}">이전</a>
    </li>
    {% else %}
    <li class="page-item disabled">
        <a class="page-link" tabindex="-1"aria-disabled="true"href="javascript:void(0)">이전</a>
    </li>
    {% endif %}
    {% for page_num in posts.iter_pages() %}
    {% if page_num %}
    {% if page_num != posts.page %}
    <li class="page-item">
        <a class="page-link"href="?page={{ page_num }}">{{ page_num }}</a>
    </li>
    {% else %}
    <li class="page-item active" aria-current="page">
        <a class="page-link"href="javascript:void(0)">{{ page_num }}</a>
    </li>
    {% endif %}
    {% else %}
    <li class="disabled">
        <a class="page-link"href="javascript:void(0)">...</a>
    </li>
    {% endif %}
    {% endfor %}

    {% if posts.has_next %}
    <li class="page-item">
        <a class="page-link"href="?page={{ posts.next_num }}">다음</a>
    </li>
    {% else %}
    <li class="page-item disabled">
        <a class="page-link"tabindex="-1"aria-disabled="true"href="javascript:void(0)">다음</a>
    </li>
    {% endif %}
</ul>

<!-- <nav aria-label="Pagination">
    <hr class="my-0" />
    <ul class="pagination justify-content-center my-4">
        <li class="page-item disabled"><a class="page-link" href="#" tabindex="-1" aria-disabled="true">Newer</a></li>
        <li class="page-item active" aria-current="page"><a class="page-link" href="#!">1</a></li>
        <li class="page-item"><a class="page-link" href="#!">2</a></li>
        <li class="page-item"><a class="page-link" href="#!">3</a></li>/
        <li class="page-item disabled"><a class="page-link" href="#!">...</a></li>
        <li class="page-item"><a class="page-link" href="#!">15</a></li>
        <li class="page-item"><a class="page-link" href="#!">Older</a></li>
    </ul>
</nav> -->
{% endblock %}

